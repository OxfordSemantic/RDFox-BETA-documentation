<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>15. RDFox Shell &mdash; RDFox  documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/ost_theme.css" type="text/css" />
    <link rel="shortcut icon" href="_static/dev-favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.14.2/dist/algoliasearch-lite.umd.js"></script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.46.2/dist/instantsearch.production.min.js"></script>
        <script defer="defer" src="_static/algolia.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="16. APIs" href="apis.html" />
    <link rel="prev" title="14. Connections" href="connections.html" />
    <!-- Start of HubSpot Cookie Blocking Code -->
    <script type="application/javascript" id="hs-cookie-banner-scan" data-hs-allowed="true" src="https://js.hs-banner.com/cookie-scanning/6485449/4b9c57c39524d7b4a85dd163da87b1d54dc9b0e11f55359272e78d1092aa8d77.js"></script>
    <!-- End of HubSpot Cookie Blocking Code -->

     

    <!-- Set up consent mode for Google Analytics -->
    <!-- Retrieve previous consent settings if present, otherwise deny everything -->
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}

        if(localStorage.getItem('consentMode') === null) {
            gtag('consent', 'default', {
                'ad_storage': 'denied',
                'analytics_storage': 'denied',
                'personalization_storage': 'denied',
                'functionality_storage': 'denied',
                'security_storage': 'denied',
                'ads_data_redaction': true,
            });
        } else {
            gtag('consent', 'default', JSON.parse(localStorage.getItem('consentMode')));
        }
    </script>
    <!-- End of consent mode setup for Google Analytics -->

    <!-- Listen for consent changes from HubSpot consent banner -->
    <script>
        var _hsp = window._hsp = window._hsp || [];
        _hsp.push(['addPrivacyConsentListener', function(consent) {
            const consentMode = {
                'ad_storage': consent.categories.advertisement ? 'granted' : 'denied',
                'analytics_storage': consent.categories.analytics ? 'granted' : 'denied',
                'personalization_storage': consent.categories.advertisement ? 'granted' : 'denied',
                'functionality_storage': consent.categories.functionality ? 'granted' : 'denied',
                'security_storage': consent.categories.functionality ? 'granted' : 'denied',
                'ads_data_redaction': consent.categories.advertisement ? false : true,
            };
            gtag('consent', 'update', consentMode);
            localStorage.setItem('consentMode', JSON.stringify(consentMode))

            // Google Tag Manager
            function addGtm(w,d,s,l,i){
                w[l]=w[l]||[];
                w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});
                var f=d.getElementsByTagName(s)[0];
                var j=d.createElement(s);
                var dl=l!='dataLayer'?'&l='+l:'';
                j.async=true;
                j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;
                f.parentNode.insertBefore(j,f);
            }
            if(
                consent.categories.analytics
                || consent.categories.functionality
                || consent.categories.advertisement
            ) {
                addGtm(window,document,'script','dataLayer','GTM-WFM2Q9D');
            }
            // End of Google Tag Manager code
        }]);
    </script>
    <!-- End of consent listener -->
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="welcome-to-rdfox.html">1. Welcome to RDFox</a></li>
<li class="toctree-l1"><a class="reference internal" href="features-and-requirements.html">2. RDFox Features and Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">3. Getting Started</a></li>
</ul>
<p class="caption"><span class="caption-text">Organization of Data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="servers.html">4. Servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-stores.html">5. Data Stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuple-tables.html">6. Tuple Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-sources.html">7. Data Sources</a></li>
</ul>
<p class="caption"><span class="caption-text">Functionality</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="import-and-export.html">8. Import and Export</a></li>
<li class="toctree-l1"><a class="reference internal" href="querying.html">9. Querying</a></li>
<li class="toctree-l1"><a class="reference internal" href="reasoning.html">10. Reasoning</a></li>
<li class="toctree-l1"><a class="reference internal" href="transactions.html">11. Transactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="access-control.html">12. Access Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="persistence.html">13. Persistence</a></li>
</ul>
<p class="caption"><span class="caption-text">Interfaces</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="connections.html">14. Connections</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">15. RDFox Shell</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#connection-management">15.1. Connection Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="#shell-commands">15.2. Shell Commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#active">15.2.1. active</a></li>
<li class="toctree-l3"><a class="reference internal" href="#answer">15.2.2. answer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ask">15.2.3. ask</a></li>
<li class="toctree-l3"><a class="reference internal" href="#begin">15.2.4. begin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#checkintegrity">15.2.5. checkintegrity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clear">15.2.6. clear</a></li>
<li class="toctree-l3"><a class="reference internal" href="#commit">15.2.7. commit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#commitproc-experimental">15.2.8. commitproc (EXPERIMENTAL)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compact">15.2.9. compact</a></li>
<li class="toctree-l3"><a class="reference internal" href="#construct">15.2.10. construct</a></li>
<li class="toctree-l3"><a class="reference internal" href="#delete">15.2.11. delete</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deltaquery">15.2.12. deltaquery</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deltaqueryanswer">15.2.13. deltaqueryanswer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dsconn">15.2.14. dsconn</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dsource">15.2.15. dsource</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dsprop">15.2.16. dsprop</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dstore">15.2.17. dstore</a></li>
<li class="toctree-l3"><a class="reference internal" href="#echo">15.2.18. echo</a></li>
<li class="toctree-l3"><a class="reference internal" href="#endpoint">15.2.19. endpoint</a></li>
<li class="toctree-l3"><a class="reference internal" href="#evaluate">15.2.20. evaluate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exec">15.2.21. exec</a></li>
<li class="toctree-l3"><a class="reference internal" href="#explain">15.2.22. explain</a></li>
<li class="toctree-l3"><a class="reference internal" href="#export">15.2.23. export</a></li>
<li class="toctree-l3"><a class="reference internal" href="#grant">15.2.24. grant</a></li>
<li class="toctree-l3"><a class="reference internal" href="#help">15.2.25. help</a></li>
<li class="toctree-l3"><a class="reference internal" href="#import">15.2.26. import</a></li>
<li class="toctree-l3"><a class="reference internal" href="#importaxioms">15.2.27. importaxioms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#info">15.2.28. info</a></li>
<li class="toctree-l3"><a class="reference internal" href="#insert">15.2.29. insert</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mat">15.2.30. mat</a></li>
<li class="toctree-l3"><a class="reference internal" href="#maxmemory">15.2.31. maxmemory</a></li>
<li class="toctree-l3"><a class="reference internal" href="#password">15.2.32. password</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prefix">15.2.33. prefix</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prefixes">15.2.34. prefixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#quit">15.2.35. quit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#recompile">15.2.36. recompile</a></li>
<li class="toctree-l3"><a class="reference internal" href="#remat">15.2.37. remat</a></li>
<li class="toctree-l3"><a class="reference internal" href="#revoke">15.2.38. revoke</a></li>
<li class="toctree-l3"><a class="reference internal" href="#role">15.2.39. role</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rollback">15.2.40. rollback</a></li>
<li class="toctree-l3"><a class="reference internal" href="#root">15.2.41. root</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rwtest">15.2.42. rwtest</a></li>
<li class="toctree-l3"><a class="reference internal" href="#select">15.2.43. select</a></li>
<li class="toctree-l3"><a class="reference internal" href="#serverinfo">15.2.44. serverinfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set">15.2.45. set</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sleep">15.2.46. sleep</a></li>
<li class="toctree-l3"><a class="reference internal" href="#srvconn">15.2.47. srvconn</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stats">15.2.48. stats</a></li>
<li class="toctree-l3"><a class="reference internal" href="#threads">15.2.49. threads</a></li>
<li class="toctree-l3"><a class="reference internal" href="#transcribe">15.2.50. transcribe</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tstamp">15.2.51. tstamp</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tupletable">15.2.52. tupletable</a></li>
<li class="toctree-l3"><a class="reference internal" href="#unset">15.2.53. unset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#update">15.2.54. update</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#shell-variables">15.3. Shell Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#script-execution">15.4. Script Execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="#error-handling">15.5. Error Handling</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="apis.html">16. APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="javadoc.html">17. Javadoc</a></li>
</ul>
<p class="caption"><span class="caption-text">Operations Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="rdfox-executable.html">18. RDFox Executable</a></li>
<li class="toctree-l1"><a class="reference internal" href="rdfox-endpoint.html">19. RDFox Endpoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">20. Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="high-availability.html">21. High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">22. RDFox Docker Images</a></li>
</ul>
<p class="caption"><span class="caption-text">Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="security-advisories.html">Security Advisories</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgments.html">Acknowledgments</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">RDFox</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">15. </span>RDFox Shell</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="rdfox-shell">
<span id="id1"></span><h1><span class="section-number">15. </span>RDFox Shell<a class="headerlink" href="#rdfox-shell" title="Permalink to this headline">¶</a></h1>
<p>This section describes the RDFox® shell, a command-line interface to the core
functionality described in previous sections. It can be used interactively or as
a script execution environment and can be accessed either remotely or via
standard input and output of the process containing the RDFox Server.</p>
<div class="section" id="connection-management">
<span id="connection-management-shell"></span><h2><span class="section-number">15.1. </span>Connection Management<a class="headerlink" href="#connection-management" title="Permalink to this headline">¶</a></h2>
<p>With the exception of commands that control the behavior of the shell or
endpoint, each shell command requires either a server or data store
<a class="reference internal" href="connections.html#connections"><span class="std std-ref">connection</span></a> to do its work. To support this, the shell
maintains a list of named connections of each type as well as variables to hold
the names of the active connections.</p>
<p>When a command requiring a server connection is executed, the shell searches
its list of server connections for a connection with the name held in the
<code class="docutils literal notranslate"><span class="pre">active-server-connection</span></code> <a class="reference internal" href="#shell-variables"><span class="std std-ref">variable</span></a>. If the search
is successful, the identified connection is used. If not, an error is printed.
When an instance of the shell is created, an initial server connection named
<code class="docutils literal notranslate"><span class="pre">sc1</span></code> is created, using the role name and password provided by the user (see
<a class="reference internal" href="rdfox-executable.html#rdfox-executable"><span class="std std-numref">Section 18</span></a>), and made active. Thereafter, command <code class="docutils literal notranslate"><span class="pre">srvconn</span></code>
(described in <a class="reference internal" href="#srvconn-command"><span class="std std-numref">Section 15.2.47</span></a>) can be used to manage the shell’s
server connections.</p>
<p>When a command requiring a data store connection is executed, the shell
searches its list of data store connections for a connection with the name held
in the <code class="docutils literal notranslate"><span class="pre">active-data-store-connection</span></code> <a class="reference internal" href="#shell-variables"><span class="std std-ref">variable</span></a>. If
the search is successful, the identified connection is used. If not, the shell
looks for a data store whose name matches the active data store connection name
and, if such a data store exists, opens a new connection to it using the active
server connection. If no such data store exists, an error is printed. The
command <code class="docutils literal notranslate"><span class="pre">dsconn</span></code> (described in <a class="reference internal" href="#dsconn-command"><span class="std std-numref">Section 15.2.14</span></a>) can be used to
manage the shell’s data store connections.</p>
</div>
<div class="section" id="shell-commands">
<span id="id2"></span><h2><span class="section-number">15.2. </span>Shell Commands<a class="headerlink" href="#shell-commands" title="Permalink to this headline">¶</a></h2>
<p>This section describes the commands that can be used in the shell.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All command syntaxes are described using the following notation:</p>
<blockquote>
<div><ul class="simple">
<li><p>square brackets (<code class="docutils literal notranslate"><span class="pre">[]</span></code>) indicate optional elements,</p></li>
<li><p>curly braces (<code class="docutils literal notranslate"><span class="pre">{}</span></code>) indicate mandatory elements,</p></li>
<li><p>the pipe character (<code class="docutils literal notranslate"><span class="pre">|</span></code>) is used to separate the accepted
alternatives within an optional or mandatory element,</p></li>
<li><p>angle brackets (<code class="docutils literal notranslate"><span class="pre">&lt;&gt;</span></code>) indicate argument placeholders,</p></li>
<li><p>three repeated dots (<code class="docutils literal notranslate"><span class="pre">...</span></code>) indicate that the preceding element may
appear zero or more times.</p></li>
</ul>
</div></blockquote>
<p>When a mandatory element has only one valid value, the curly braces are
omitted.</p>
</div>
<div class="section" id="active">
<h3><span class="section-number">15.2.1. </span>active<a class="headerlink" href="#active" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>active [&lt;name&gt;]
</pre></div>
</div>
<p><strong>Description:</strong> If <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> is omitted, this command prints the name of the
active data store connection; otherwise, it sets the active data store
connection name to <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code>. See <a class="reference internal" href="#connection-management-shell"><span class="std std-numref">Section 15.1</span></a> for
details of how the shell manages connections.</p>
</div>
<div class="section" id="answer">
<h3><span class="section-number">15.2.2. </span>answer<a class="headerlink" href="#answer" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>answer {! &lt;query_text&gt; | &lt;file_name&gt; ...}
</pre></div>
</div>
<p><strong>Description:</strong> This command evaluates one or more <code class="docutils literal notranslate"><span class="pre">SELECT</span></code>, <code class="docutils literal notranslate"><span class="pre">ASK</span></code>, or
<code class="docutils literal notranslate"><span class="pre">CONSTRUCT</span></code> queries. A single query can be given explicitly as text after the
<code class="docutils literal notranslate"><span class="pre">!</span></code> symbol, or one can specify zero or more file names that contain the
queries to be evaluated. Each relative <code class="docutils literal notranslate"><span class="pre">&lt;file_name&gt;</span></code> (e.g., it does not start
with <code class="docutils literal notranslate"><span class="pre">/</span></code> on Unix-based platforms) is interpreted as relative to the content
of the <code class="docutils literal notranslate"><span class="pre">dir.queries</span></code> <a class="reference internal" href="#shell-variables"><span class="std std-ref">shell variable</span></a>.</p>
<div class="example docutils container">
<p><strong>Example:</strong> The following command checks whether the <code class="docutils literal notranslate"><span class="pre">a1:Org</span></code> class
contains any instances.:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>answer ! ask { ?X rdf:type a1:Org }
</pre></div>
</div>
</div>
</div>
<div class="section" id="ask">
<h3><span class="section-number">15.2.3. </span>ask<a class="headerlink" href="#ask" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ask &lt;remaining_query_text&gt;
</pre></div>
</div>
<p><strong>Description:</strong> This command queries the current data store with the specified
SPARQL query. An ask query tests whether or not a query pattern has a solution.</p>
<div class="example docutils container">
<p><strong>Example:</strong> The last command of the following script tests whether the
specified pattern can be matched in the materialization, and prints out the
total number of matched tuples.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dstore create default
import &quot;LUBM.ttl&quot;
import &quot;LUBM.dlog&quot;
prefix a1: &lt;http://lehigh.edu/onto/univ-bench.owl#&gt;
set output out
ask { ?X rdf:type a1:Org }
</pre></div>
</div>
</div>
</div>
<div class="section" id="begin">
<h3><span class="section-number">15.2.4. </span>begin<a class="headerlink" href="#begin" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>begin [read | write | exclusive]
</pre></div>
</div>
<p><strong>Description:</strong> This command starts a <a class="reference internal" href="transactions.html#transactions"><span class="std std-ref">transaction</span></a> on the
current data store. The transaction is read-only (if <code class="docutils literal notranslate"><span class="pre">read</span></code> parameter is
specified), read/write (if <code class="docutils literal notranslate"><span class="pre">write</span></code> parameter is specified or the parameter
is omitted), or exclusive (if <code class="docutils literal notranslate"><span class="pre">exclusive</span></code> parameter is specified).</p>
</div>
<div class="section" id="checkintegrity">
<span id="checkintegrity-command"></span><h3><span class="section-number">15.2.5. </span>checkintegrity<a class="headerlink" href="#checkintegrity" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>checkintegrity [&lt;max_errors_of_same_type&gt;]
</pre></div>
</div>
<p><strong>Description:</strong> This command checks the integrity of the server associated
with the active server connection and lists any problems identified in the
internal data structures used by RDFox. No problems should be detected under
normal operation, so please contact customer support immediately if any
problems are reported. Since running this command can take significant time,
progress will be reported periodically as the check progresses through various
stages. The optional <code class="docutils literal notranslate"><span class="pre">&lt;max_errors_of_same_type&gt;</span></code> parameter determines how
many errors of a particular type should be printed; the default value for this
parameter is 20. This ensures that the command’s output is not overwhelmed by a
large number of errors that could make the output unreadable.</p>
</div>
<div class="section" id="clear">
<span id="clear-command"></span><h3><span class="section-number">15.2.6. </span>clear<a class="headerlink" href="#clear" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>clear [rules-explicate-facts | {data-store-properties | prefixes | facts | axioms | rules | commit-procedure} ...] [force]
</pre></div>
</div>
<p><strong>Description:</strong> This command clears various parts of the data store.</p>
<ul class="simple">
<li><p>With <code class="docutils literal notranslate"><span class="pre">rules-explicate-facts</span></code>, it clears all rules and makes all facts
explicit — that is, it adds all facts from the <code class="docutils literal notranslate"><span class="pre">derived</span></code> <a class="reference internal" href="tuple-tables.html#fact-domains"><span class="std std-ref">fact
domain</span></a> into the <code class="docutils literal notranslate"><span class="pre">explicit</span></code> domain. This operation can be
used when the facts derived by one set of rules should be fed as input to
another set of rules.</p></li>
<li><p>With at least one data store part specified, all specified parts are cleared.</p></li>
<li><p>With no arguments, all parts of the data store are cleared.</p></li>
</ul>
<p>All variants of the command will prompt for confirmation unless <code class="docutils literal notranslate"><span class="pre">force</span></code> is
specified.</p>
<div class="example docutils container">
<p><strong>Example:</strong> After the <code class="docutils literal notranslate"><span class="pre">clear</span> <span class="pre">rules-explicate-facts</span></code> command of the
following script is issued, all facts will become explicit and all rules
will be deleted. Therefore, if <code class="docutils literal notranslate"><span class="pre">a1:Org[http://www.University389.edu]</span></code> is
derived during the materialization, then the first “explain” command will
print information about how this fact is derived, whereas the second
“explain” command will simply tell the user that the fact is an explicit
fact.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dstore create default
import &quot;LUBM.ttl&quot;
import &quot;LUBM.dlog&quot;
prefix a1: &lt;http://lehigh.edu/onto/univ-bench.owl#&gt;
explain shortest a1:Org[&lt;http://www.University389.edu&gt;]
clear rules-explicate-facts
explain shortest a1:Org[&lt;http://www.University389.edu&gt;]
</pre></div>
</div>
</div>
<div class="example docutils container">
<p><strong>Example:</strong> The following command clears prefixes and all facts, but leaves
the remaining parts of the data store intact. It also uses <code class="docutils literal notranslate"><span class="pre">force</span></code> to
avoid the confirmation prompt.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>clear prefixes facts force
</pre></div>
</div>
</div>
</div>
<div class="section" id="commit">
<h3><span class="section-number">15.2.7. </span>commit<a class="headerlink" href="#commit" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>commit
</pre></div>
</div>
<p><strong>Description:</strong> This command commits the <a class="reference internal" href="transactions.html#transactions"><span class="std std-ref">transaction</span></a> on
the active data store connection.</p>
</div>
<div class="section" id="commitproc-experimental">
<span id="commitproc-command"></span><h3><span class="section-number">15.2.8. </span>commitproc (EXPERIMENTAL)<a class="headerlink" href="#commitproc-experimental" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>commitproc {show | set {! &lt;text&gt; | &lt;file_name&gt;}}
</pre></div>
</div>
<p><strong>Description:</strong> This command manages the <a class="reference internal" href="transactions.html#commit-procedure"><span class="std std-ref">commit procedure</span></a> for the data store.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">show</span></code> argument is supplied, the commit procedure for the current data
store is printed. If the <code class="docutils literal notranslate"><span class="pre">set</span></code> argument is supplied, the data store’s commit
procedure will be set to the SPARQL update identified by the following
arguments. These can be either a <code class="docutils literal notranslate"><span class="pre">!</span></code> symbol followed the SPARQL update as
explicit text, or the path of a file containing the SPARQL update to be used.</p>
</div>
<div class="section" id="compact">
<span id="compact-command"></span><h3><span class="section-number">15.2.9. </span>compact<a class="headerlink" href="#compact" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>compact
</pre></div>
</div>
<p><strong>Description:</strong> This command compacts all facts in the data store, reclaiming
memory and disk space occupied by deleted facts. Data store compaction cannot be
performed as part of an explicit transaction.</p>
<p>Please refer to <a class="reference internal" href="data-stores.html#compaction-dead-fact-removal"><span class="std std-numref">Section 5.2.4</span></a> for a detailed
explanation of compaction.</p>
</div>
<div class="section" id="construct">
<h3><span class="section-number">15.2.10. </span>construct<a class="headerlink" href="#construct" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>construct &lt;remaining_query_text&gt;
</pre></div>
</div>
<p><strong>Description:</strong> This command queries the current data store with the specified
<a class="reference external" href="http://www.w3.org/TR/sparql11-query/">SPARQL</a> <code class="docutils literal notranslate"><span class="pre">CONSTRUCT</span></code> query. The
resulting triples are stored using the <code class="docutils literal notranslate"><span class="pre">Turtle</span></code> format.</p>
</div>
<div class="section" id="delete">
<h3><span class="section-number">15.2.11. </span>delete<a class="headerlink" href="#delete" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>delete &lt;remaining_query_text&gt;
</pre></div>
</div>
<p><strong>Description:</strong> This command can be used to remove explicit facts from the
data store based on bindings for a query pattern specified in a where clause.</p>
<div class="example docutils container">
<p><strong>Example:</strong> The following command removes all facts matching the specified
query pattern <code class="docutils literal notranslate"><span class="pre">?X</span> <span class="pre">a1:headOf</span> <span class="pre">?Y</span></code> from the data store.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>delete { ?X a1:headOf ?Y } where { ?X a1:headOf ?Y }
</pre></div>
</div>
</div>
</div>
<div class="section" id="deltaquery">
<span id="deltaquery-command"></span><h3><span class="section-number">15.2.12. </span>deltaquery<a class="headerlink" href="#deltaquery" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>deltaquery {list | show &lt;name&gt; | register &lt;name&gt; &lt;answer-format&gt; {snapshots-max-size &lt;size&gt; | deletions-max-size &lt;size&gt; | additions-max-size &lt;size&gt;} ... {! &lt;query_text&gt; | &lt;query_path&gt;} | deregister &lt;name&gt; | set-evaluation-mode &lt;name&gt; {snapshot | delta} }
</pre></div>
</div>
<p><strong>Description:</strong> Manages the delta queries registered with the current data store.</p>
<ul class="simple">
<li><p>Option <code class="docutils literal notranslate"><span class="pre">list</span></code> prints the currently registered delta queries.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">show</span></code> prints information about the delta query &lt;name&gt;.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">register</span></code> registers a new delta query with the name &lt;name&gt; and the
query provided either inline as &lt;query-text&gt; or stored in a file specified by
&lt;query_path&gt;. An initial snapshot of the query answers is generated in the
transaction that registers the delta query. Additions and deletions are
generated in transactions following the query registration. The parameters
<code class="docutils literal notranslate"><span class="pre">snapshots-max-size</span></code>, <code class="docutils literal notranslate"><span class="pre">deletions-max-size</span></code>, and <code class="docutils literal notranslate"><span class="pre">additions-max-size</span></code>
control the generation of the three types of delta query answers. Allowed
values for &lt;size&gt; are <code class="docutils literal notranslate"><span class="pre">unlimited</span></code> (default), <code class="docutils literal notranslate"><span class="pre">none</span></code>, or a non-negative
number. The values ‘none’ and 0 disable the generation of answers for the
given type. Answers will be generated in the &lt;answer-format&gt; format.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">deregister</span></code> deregisters the delta query with name &lt;name&gt;.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">set-evaluation-mode</span></code> overrides the current evaluation mode of delta
query &lt;name&gt;. <code class="docutils literal notranslate"><span class="pre">snapshot</span></code> mode ensures that at the end of the current
transaction, a snapshot of the query answers is generated. <code class="docutils literal notranslate"><span class="pre">delta</span></code> mode
ensures that at the end of the current transaction, if the query answers have
changed, deltas (additions or deletions) are generated.</p></li>
</ul>
</div>
<div class="section" id="deltaqueryanswer">
<span id="deltaqueryanswer-command"></span><h3><span class="section-number">15.2.13. </span>deltaqueryanswer<a class="headerlink" href="#deltaqueryanswer" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>deltaqueryanswer {list {name &lt;name&gt; | from &lt;version&gt; | to &lt;version&gt; | type &lt;answer-type&gt; }... | show &lt;name&gt; &lt;version&gt; &lt;answer-type&gt; | delete {name &lt;name&gt; | from &lt;version&gt; | to &lt;version&gt; | type &lt;answer-type&gt; }...}
</pre></div>
</div>
<p><strong>Description:</strong> Manages the delta query answers.</p>
<ul class="simple">
<li><p>Option <code class="docutils literal notranslate"><span class="pre">list</span></code> prints the delta query answers matching the specified
criteria. The parameter <code class="docutils literal notranslate"><span class="pre">name</span></code> restricts the query name of the returned
answers to &lt;name&gt;. The parameters <code class="docutils literal notranslate"><span class="pre">from</span></code> and <code class="docutils literal notranslate"><span class="pre">to</span></code> restrict the data store
version of the returned answers. The allowed values for &lt;version&gt; are
non-negative numbers. The parameter <code class="docutils literal notranslate"><span class="pre">answer-type</span></code> limits the type of the
returned answers. The allowed values are <code class="docutils literal notranslate"><span class="pre">snapshot</span></code>, <code class="docutils literal notranslate"><span class="pre">deletion</span></code> and
<code class="docutils literal notranslate"><span class="pre">addition</span></code>.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">show</span></code> prints the delta query answer for the specified delta query
name, version and answer type.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">delete</span></code> deletes the delta query answers matching the specified
criteria. The subcommand uses the same parameters as <code class="docutils literal notranslate"><span class="pre">list</span></code>.</p></li>
</ul>
</div>
<div class="section" id="dsconn">
<span id="dsconn-command"></span><h3><span class="section-number">15.2.14. </span>dsconn<a class="headerlink" href="#dsconn" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dsconn {list | active [&lt;name&gt;] | open [&lt;name&gt;] to &lt;data_store_name&gt; [as &lt;role&gt;] | close [&lt;name&gt; | to &lt;data_store_name&gt;] | incremental-reasoning-allowed [true | false]}
</pre></div>
</div>
<p><strong>Description:</strong> Manages data store connections belonging to the current shell.
See also <a class="reference internal" href="#connection-management-shell"><span class="std std-numref">Section 15.1</span></a>.</p>
<ul class="simple">
<li><p>Option <code class="docutils literal notranslate"><span class="pre">list</span></code> prints the currently open data store connections.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">active</span></code> sets <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> as the name of the active data store
connection if a parameter is provided or prints the name of the active
data store connection if not.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">open</span></code> opens a new connection to the data store with name
<code class="docutils literal notranslate"><span class="pre">&lt;data_store_name&gt;</span></code>. If the optional <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> parameter is provided, it
is used as the name of the connection, otherwise a name is assigned
automatically. If the optional <code class="docutils literal notranslate"><span class="pre">&lt;role&gt;</span></code> parameter is supplied, the command
will attempt to create the connection as <code class="docutils literal notranslate"><span class="pre">&lt;role&gt;</span></code>. If no role is
specified, the the command will attempt to create the new data store
connection from the active server connection.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">close</span></code> closes the active data store connection if no argument is
given, the data store connection with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> if a single argument
is given, or all connections to the data store with name
<code class="docutils literal notranslate"><span class="pre">&lt;data_store_name&gt;</span></code> if the arguments <code class="docutils literal notranslate"><span class="pre">to</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;data_store_name&gt;</span></code> are
given in that order.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">incremental-reasoning-allowed</span></code> determines whether incremental
reasoning is allowed to be used when processing requests initiated on the
active data store connection. If no value is specified, then the current
value of this property is printed, and the value is set otherwise.</p></li>
</ul>
</div>
<div class="section" id="dsource">
<span id="dsource-command"></span><h3><span class="section-number">15.2.15. </span>dsource<a class="headerlink" href="#dsource" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dsource {list | show &lt;dsname&gt; | register &lt;dsname&gt; &lt;parameters&gt; | sample &lt;dsname&gt; &lt;table&gt; [&lt;size&gt;] | deregister &lt;dsname&gt;}
</pre></div>
</div>
<p><strong>Description:</strong> This command manages the data sources of the current store.
The command is useful when the user wishes to import and manage data of non-RDF
formats in RDFox. For an overview of how RDFox manages data sources, see
<a class="reference internal" href="data-sources.html#data-sources"><span class="std std-numref">Section 7</span></a>.</p>
<ul class="simple">
<li><p>Option <code class="docutils literal notranslate"><span class="pre">list</span></code> prints the currently available data sources.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">show</span></code> shows information about the data source with name
<code class="docutils literal notranslate"><span class="pre">&lt;dsname&gt;</span></code>.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">register</span></code> registers a new data source with name <code class="docutils literal notranslate"><span class="pre">&lt;dsname&gt;</span></code>.
Information about the data source is specified by the key-value pairs in
<code class="docutils literal notranslate"><span class="pre">&lt;parameters&gt;</span></code>. See <a class="reference internal" href="data-sources.html#registering-data-sources"><span class="std std-numref">Section 7.1</span></a> for details of the
parameter names and values that can be supplied. Data store registration
cannot be performed as part of an explicit transaction.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">sample</span></code> shows a preview of up to <code class="docutils literal notranslate"><span class="pre">&lt;size&gt;</span></code>; rows from
table <code class="docutils literal notranslate"><span class="pre">&lt;table&gt;</span></code> of data source <code class="docutils literal notranslate"><span class="pre">&lt;dsname&gt;</span></code>.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">deregister</span></code> deregisters a data source with name <code class="docutils literal notranslate"><span class="pre">&lt;dsname&gt;</span></code>.
Data store deregistration cannot be performed as part of an explicit
transaction.</p></li>
</ul>
</div>
<div class="section" id="dsprop">
<span id="dsprop-command"></span><h3><span class="section-number">15.2.16. </span>dsprop<a class="headerlink" href="#dsprop" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dsprop list | set &lt;property_name&gt; [&lt;property_value&gt;]
</pre></div>
</div>
<p><strong>Description:</strong> This command manages the data store properties; see
<a class="reference internal" href="data-stores.html#data-store-properties"><span class="std std-numref">Section 5.4.2</span></a> for more information about which parameters are
available and how they affect the operation of a data store.</p>
<ul class="simple">
<li><p>Option <code class="docutils literal notranslate"><span class="pre">list</span></code> prints the current value of all data store parameters.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">set</span></code> with no property value prints the current value of the
property with the given name.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">set</span></code> with a property value sets property with the given name to the
given value.</p></li>
</ul>
</div>
<div class="section" id="dstore">
<span id="dstore-command"></span><h3><span class="section-number">15.2.17. </span>dstore<a class="headerlink" href="#dstore" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dstore {list | show &lt;name&gt; | create &lt;name&gt; [&lt;parameter_key&gt; &lt;parameter_value&gt;] ... | load &lt;name&gt; &lt;file_name&gt; [&lt;parameter_key&gt; &lt;parameter_value&gt;] ... | save &lt;name&gt; &lt;file_name&gt; [raw] | delete &lt;name&gt; [force] | offline &lt;name&gt; | online &lt;name&gt;}
</pre></div>
</div>
<p><strong>Description:</strong> This command manages the data stores of the server (see
<a class="reference internal" href="data-stores.html#operations-on-data-stores"><span class="std std-numref">Section 5.1</span></a>).</p>
<ul class="simple">
<li><p>Option <code class="docutils literal notranslate"><span class="pre">list</span></code> prints the currently available data stores.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">show</span></code> prints information about a data store with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code>.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">create</span></code> adds a new data store with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code>. One can
optionally specify various data store parameters as a list of key-value
pairs; see <a class="reference internal" href="data-stores.html#data-store-parameters"><span class="std std-numref">Section 5.4.1</span></a> for the list of supported
parameters.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">load</span></code> creates a new data store with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> using the
content of the specified file. If <code class="docutils literal notranslate"><span class="pre">&lt;file_name&gt;</span></code> is relative (e.g., it does
not start with <code class="docutils literal notranslate"><span class="pre">/</span></code> on Unix-based platforms), it is interpreted as relative
to the content of the <code class="docutils literal notranslate"><span class="pre">dir.stores</span></code> <a class="reference internal" href="#shell-variables"><span class="std std-ref">shell variable</span></a>.
This command can load binary files in both standard and raw formats. In case
of the former, one can override the data store parameters by specifying
various data store options in the same way as for the <code class="docutils literal notranslate"><span class="pre">dstore</span> <span class="pre">create</span></code>
command (but one cannot change the equality mode of the data store).</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">save</span></code> saves the contents of the data store with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> to
a binary file. The standard format is used for the output, unless the <code class="docutils literal notranslate"><span class="pre">raw</span></code>
option is specified in which case the raw format is used. If <code class="docutils literal notranslate"><span class="pre">&lt;file_name&gt;</span></code>
is relative (e.g., it does not start with <code class="docutils literal notranslate"><span class="pre">/</span></code> on Unix-based platforms), it
is interpreted as relative to the content of the <code class="docutils literal notranslate"><span class="pre">dir.stores</span></code> <a class="reference internal" href="#shell-variables"><span class="std std-ref">shell
variable</span></a>.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">delete</span></code> deletes the data store with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> from the
server. This option will prompt for confirmation unless <code class="docutils literal notranslate"><span class="pre">force</span></code> is
specified.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">offline</span></code> brings the data store with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> offline.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">online</span></code> brings the data store with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> online.</p></li>
</ul>
</div>
<div class="section" id="echo">
<h3><span class="section-number">15.2.18. </span>echo<a class="headerlink" href="#echo" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>echo &lt;token&gt; ...
</pre></div>
</div>
<p><strong>Description:</strong> This command prints all tokens given after the command,
separating them by a single space. All <a class="reference internal" href="#shell-variables"><span class="std std-ref">variables</span></a>
occurring in the tokens are expanded as usual, which can be used to print
useful information.</p>
</div>
<div class="section" id="endpoint">
<span id="endpoint-command"></span><h3><span class="section-number">15.2.19. </span>endpoint<a class="headerlink" href="#endpoint" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>endpoint {start | stop | list-requests | show-request &lt;request-ID&gt; | cancel-request &lt;request-ID&gt;}
</pre></div>
</div>
<p><strong>Description:</strong> This manages the <a class="reference internal" href="rdfox-endpoint.html#rdfox-endpoint"><span class="std std-ref">RDFox Endpoint</span></a>.</p>
<ul class="simple">
<li><p>Option <code class="docutils literal notranslate"><span class="pre">start</span></code> starts the endpoint. To override the default value for an
endpoint parameter <code class="docutils literal notranslate"><span class="pre">&lt;parameter&gt;</span></code>, set the desired value into <a class="reference internal" href="#shell-variables"><span class="std std-ref">shell
variable</span></a> <code class="docutils literal notranslate"><span class="pre">endpoint.&lt;parameter&gt;</span></code> <cite>before</cite> starting the
endpoint. See <a class="reference internal" href="rdfox-endpoint.html#endpoint-parameters"><span class="std std-numref">Section 19.2</span></a> for details of the supported
parameters.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">stop</span></code> stops the endpoint.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">list-requests</span></code> lists the requests currently running on the endpoint.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">show-request</span></code> shows information about the request with the given ID.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">cancel-request</span></code> cancels the request with the given ID.</p></li>
</ul>
<div class="example docutils container">
<p><strong>Example:</strong> The following commands start the RESTful endpoint on port 4567.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set endpoint.port &quot;4567&quot;
endpoint start
</pre></div>
</div>
</div>
<p>This command cannot be executed in a remote shell instance.</p>
</div>
<div class="section" id="evaluate">
<h3><span class="section-number">15.2.20. </span>evaluate<a class="headerlink" href="#evaluate" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>evaluate {! &lt;statement_text&gt; | &lt;file_name&gt; ...}
</pre></div>
</div>
<p><strong>Description:</strong> This command evaluates one or more SPARQL statements. A
statement is either a SPARQL query or a SPARQL update. The statement to be
evaluated can be given explicitly as text after the <code class="docutils literal notranslate"><span class="pre">!</span></code> symbol, or one can
specify zero or more file names that contain the statements to be evaluated.
Each relative <code class="docutils literal notranslate"><span class="pre">&lt;file_name&gt;</span></code> (e.g., it does not start with <code class="docutils literal notranslate"><span class="pre">/</span></code> on Unix-based
platforms) is interpreted as relative to the content of the <code class="docutils literal notranslate"><span class="pre">dir.queries</span></code>
shell variable.</p>
<div class="example docutils container">
<p><strong>Example:</strong> The following command checks whether the <code class="docutils literal notranslate"><span class="pre">a1:Org</span></code> class
contains any instances.:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>evaluate ! ask { ?X rdf:type a1:Org }
</pre></div>
</div>
</div>
<div class="example docutils container">
<p><strong>Example:</strong> The following command inserts a triple and then, in a separate
update, derives a second triple from it. Both updates are applied in a
single transaction.:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>evaluate ! insert data { &lt;a&gt; a &lt;A&gt; } ; insert { ?a a &lt;B&gt; } where { ?a a &lt;A&gt; }
</pre></div>
</div>
</div>
</div>
<div class="section" id="exec">
<h3><span class="section-number">15.2.21. </span>exec<a class="headerlink" href="#exec" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>exec [&lt;repeat_number&gt;] &lt;file_name&gt; [&lt;argument&gt;] ...
</pre></div>
</div>
<p><strong>Description:</strong> This command repeatedly executes the contents of the specified
script. If <code class="docutils literal notranslate"><span class="pre">&lt;repeat_num&gt;</span></code> is not specified, then the script is executed once.
All <code class="docutils literal notranslate"><span class="pre">&lt;argument&gt;</span></code> tokens are passed to the script as variables <code class="docutils literal notranslate"><span class="pre">$(1)</span></code>,
<code class="docutils literal notranslate"><span class="pre">$(2)</span></code>, and so on. If <code class="docutils literal notranslate"><span class="pre">&lt;file_name&gt;</span></code> is relative (e.g., it does not start
with <code class="docutils literal notranslate"><span class="pre">/</span></code> on Unix-based platforms), it is interpreted as relative to the
content of the <code class="docutils literal notranslate"><span class="pre">dir.scripts</span></code> <a class="reference internal" href="#shell-variables"><span class="std std-ref">shell variable</span></a>.</p>
<div class="example docutils container">
<p><strong>Example:</strong> The following command executes the script stored in file
<code class="docutils literal notranslate"><span class="pre">testMat.rdfox</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>exec &quot;testMat.rdfox&quot;
</pre></div>
</div>
</div>
<div class="example docutils container">
<p><strong>Example:</strong> The following scripts accesses arguments passed to it.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dstore create default
set output out
import &quot;$(1)&quot;
import &quot;$(2)&quot;
answer &quot;$(3)&quot;
import - &quot;$(2)&quot;
answer &quot;$(3)&quot;
quit
</pre></div>
</div>
<p>Assuming that the script is stored in file <code class="docutils literal notranslate"><span class="pre">testMat.rdfox</span></code>, it can be
invoked as follows.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>exec &quot;testMat.rdfox&quot; data.ttl program.dlog query.rq
</pre></div>
</div>
<p>If a script file has suffix “.rdfox” and is in the directory that the
<code class="docutils literal notranslate"><span class="pre">dir.scripts</span></code> shell variable points to, then both <code class="docutils literal notranslate"><span class="pre">exec</span></code> and the suffix
<code class="docutils literal notranslate"><span class="pre">.rdfox</span></code> can be omitted. Together with the support for argument passing,
this allows the user to group arbitrary commands together in a script and
use the name of the script as if it were a new command.</p>
</div>
<div class="example docutils container">
<p><strong>Example:</strong> The following command does the same as the <code class="docutils literal notranslate"><span class="pre">exec</span></code> command in
the previous example, provided that the script file <code class="docutils literal notranslate"><span class="pre">testMat.rdfox</span></code> can be
found in the directory specified by the <code class="docutils literal notranslate"><span class="pre">dir.scripts</span></code> shell variable.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>testMat data.ttl program.dlog query.rq
</pre></div>
</div>
</div>
</div>
<div class="section" id="explain">
<h3><span class="section-number">15.2.22. </span>explain<a class="headerlink" href="#explain" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>explain [shortest | to-explicit | exhaustive] [&lt;max_depth&gt; [&lt;max_rule_instances&gt;]] &lt;fact&gt;
</pre></div>
</div>
<p><strong>Description:</strong> This command explains how a fact has been derived. The fact is
specified using the Datalog syntax for tuple table atoms (see <a class="reference internal" href="reasoning.html#atom"><span class="std std-numref">Section 10.4.1</span></a>).
A fact can be derived in more than one way. If <code class="docutils literal notranslate"><span class="pre">shortest</span></code> is specified, then
just one shortest derivation (in terms of height) is printed; if there are
several derivations of the same height, one is arbitrarily chosen. If
<code class="docutils literal notranslate"><span class="pre">to-explicit</span></code> is specified, then all explanations up to explicit facts are
printed. Finally, if <code class="docutils literal notranslate"><span class="pre">exhaustive</span></code> is specified, then all facts are maximally
explained, including the explicit facts. Finally, <code class="docutils literal notranslate"><span class="pre">&lt;max_depth&gt;</span></code> can be
specified to limit the maximal depth of a proof tree, and
<code class="docutils literal notranslate"><span class="pre">&lt;max_rule_instances&gt;</span></code> can be specified to limit the maximal number of rule
instances in each node of the proof tree.</p>
<div class="example docutils container">
<p><strong>Example:</strong> The last command of the following script explains how the
specified fact was derived (in the shortest way) during the materialization.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dstore create default
import &quot;LUBM.ttl&quot;
import &quot;LUBM.dlog&quot;
prefix a1: &lt;http://lehigh.edu/onto/univ-bench.owl#&gt;
explain shortest a1:Org[&lt;http://www.University389.edu&gt;]
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Facts in data stores where <code class="docutils literal notranslate"><span class="pre">equality</span></code> (see <a class="reference internal" href="data-stores.html#equality-parameter"><span class="std std-numref">Section 5.4.1.2</span></a>)
is set to anything other than <code class="docutils literal notranslate"><span class="pre">off</span></code> cannot currently be explained using
this command.</p>
</div>
</div>
<div class="section" id="export">
<span id="export-command"></span><h3><span class="section-number">15.2.23. </span>export<a class="headerlink" href="#export" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>export &lt;file_name&gt; [&lt;format_name&gt; [&lt;parameter_key&gt; &lt;parameter_value&gt;] ...]
</pre></div>
</div>
<p><strong>Description:</strong> This command exports the data in the current store to the
specified file in the specified format. One can optionally specify a number of
key-value pairs that customize the export process. The available key-value
pairs are specific to the answer format. The supported formats are described in
<a class="reference internal" href="import-and-export.html#data-store-content-formats"><span class="std std-numref">Section 8.1</span></a>. When exporting to a format that
stores facts, the only supported parameter is <code class="docutils literal notranslate"><span class="pre">fact-domain</span></code>, and its value is
the <a class="reference internal" href="tuple-tables.html#fact-domains"><span class="std std-ref">fact domain</span></a> determining which facts get exported.
This command can also be be used to export the OWL axioms and rules in current
store, by specifying supported output formats <code class="docutils literal notranslate"><span class="pre">text/owl-functional</span></code> and
<code class="docutils literal notranslate"><span class="pre">application/x.datalog</span></code> respectively. In the latter case, the <code class="docutils literal notranslate"><span class="pre">rule-domain</span></code>
parameter specifies from which domains the rules should be exported, with the
default being the <code class="docutils literal notranslate"><span class="pre">user</span></code> rule domain (<a class="reference internal" href="servers.html#rules"><span class="std std-numref">4.1.4</span></a>). The
default format is <code class="docutils literal notranslate"><span class="pre">text/turtle</span></code> with parameter <code class="docutils literal notranslate"><span class="pre">fact-domain</span></code> equal to
<code class="docutils literal notranslate"><span class="pre">explicit</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">&lt;file_name&gt;</span></code> is relative (e.g., it does not start with <code class="docutils literal notranslate"><span class="pre">/</span></code> on Unix-based
platforms), then it is interpreted as relative to the content of the
<code class="docutils literal notranslate"><span class="pre">dir.facts</span></code> <a class="reference internal" href="#shell-variables"><span class="std std-ref">shell variable</span></a> if the selected format
can store facts, or as relative to the content of the <code class="docutils literal notranslate"><span class="pre">dir.dlog</span></code> shell
variable if the selected format cannot store facts.</p>
<div class="example docutils container">
<p><strong>Example:</strong> The following command exports all facts from the data store in
the <code class="docutils literal notranslate"><span class="pre">application/n-triples</span></code> format.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>export &quot;output.ttl&quot; &quot;application/n-triples&quot; fact-domain all
</pre></div>
</div>
</div>
<div class="example docutils container">
<p><strong>Example:</strong> The following command exports the OWL 2 axioms that have been
added to the current store.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>export &quot;output.fss&quot; &quot;text/owl-functional&quot;
</pre></div>
</div>
</div>
<div class="example docutils container">
<p><strong>Example:</strong> The following command exports the rules that have been imported
by the user i.e. imported into the default “user” rule domain.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>export &quot;output.dlog&quot; &quot;application/x.datalog&quot;
</pre></div>
</div>
</div>
</div>
<div class="section" id="grant">
<span id="grant-command"></span><h3><span class="section-number">15.2.24. </span>grant<a class="headerlink" href="#grant" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>grant {privileges &lt;access_types&gt; &lt;resource_specifier&gt; to &lt;role&gt; | role &lt;super_role&gt; to &lt;role&gt;}
</pre></div>
</div>
<p><strong>Description:</strong> This command grants privileges and role memberships to roles
in a server’s role database. The counterpart to this command is
<a class="reference internal" href="#revoke-command"><span class="std std-ref">revoke</span></a>.</p>
<ul class="simple">
<li><p>Option <code class="docutils literal notranslate"><span class="pre">privileges</span></code> grants the role <code class="docutils literal notranslate"><span class="pre">&lt;role&gt;</span></code> privileges to access the
resource(s) matched by <code class="docutils literal notranslate"><span class="pre">&lt;resource_specifier&gt;</span></code> in the ways specified by
parameter <code class="docutils literal notranslate"><span class="pre">&lt;access_types&gt;</span></code>. The parameter <code class="docutils literal notranslate"><span class="pre">&lt;resource_specifier&gt;</span></code> must be
a string meeting the requirements of a resource specifier described in
<a class="reference internal" href="access-control.html#resource-specifiers"><span class="std std-numref">Section 12.1.2</span></a> while the parameter <code class="docutils literal notranslate"><span class="pre">&lt;access_types&gt;</span></code> must be
a comma-separated list of the elements <code class="docutils literal notranslate"><span class="pre">read</span></code>, <code class="docutils literal notranslate"><span class="pre">write</span></code>, <code class="docutils literal notranslate"><span class="pre">grant</span></code> and
<code class="docutils literal notranslate"><span class="pre">full</span></code>.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">role</span></code> grants membership of the role with name <code class="docutils literal notranslate"><span class="pre">&lt;super_role&gt;</span></code> to
the role with name <code class="docutils literal notranslate"><span class="pre">&lt;role&gt;</span></code>. See
<a class="reference internal" href="access-control.html#assigning-privileges-via-membership"><span class="std std-numref">Section 12.5.5</span></a> for more information about
role membership.</p></li>
</ul>
<p><a class="reference internal" href="access-control.html#access-control"><span class="std std-numref">Section 12</span></a> describes RDFox’s access control model in more detail.</p>
<div class="example docutils container">
<p><strong>Example:</strong> The following command grants read and write access over the
<code class="docutils literal notranslate"><span class="pre">family</span></code> data store to the role <code class="docutils literal notranslate"><span class="pre">graphuser</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>grant privileges read,write &gt;datastores|family to graphuser
</pre></div>
</div>
</div>
</div>
<div class="section" id="help">
<h3><span class="section-number">15.2.25. </span>help<a class="headerlink" href="#help" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>help [&lt;command_name&gt; ...]
</pre></div>
</div>
<p><strong>Description:</strong> When executed without arguments, this command prints the list
of all available commands. It also prints a reference list of supported formats
for data store content. When executed with one or more commands, help
information about each of the specified commands will be printed.</p>
</div>
<div class="section" id="import">
<span id="import-command"></span><h3><span class="section-number">15.2.26. </span>import<a class="headerlink" href="#import" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import [&gt; &lt;default_graph_name&gt;] [+|+p|-] {! &lt;text&gt; | { &lt;file_name&gt; | &lt;iri&gt; } ...}
</pre></div>
</div>
<p><strong>Description:</strong> This command adds the specified items (i.e., facts and/or
axioms/rules) into the current store (if nothing, <code class="docutils literal notranslate"><span class="pre">+</span></code>, or <code class="docutils literal notranslate"><span class="pre">+p</span></code> is specified)
, or removes the specified items from the current store (if <code class="docutils literal notranslate"><span class="pre">-</span></code> is specified).
If <code class="docutils literal notranslate"><span class="pre">+p</span></code> is specified, then the prefixes of the data store are updated using the
prefixes in the input(s). The user may choose to specify items in plain text,
in which case the text follows the <code class="docutils literal notranslate"><span class="pre">!</span></code> symbol. Alternatively, the user can
specify a list of local paths and IRIs from which content should be loaded.</p>
<p>RDFox supports importing triples and rules in <a class="reference external" href="http://www.w3.org/TR/n-triples/">N-Triples</a>, <a class="reference external" href="http://www.w3.org/TR/turtle/">Turtle</a>, <a class="reference external" href="http://www.w3.org/TR/n-quads/">N-Quads</a>,
<a class="reference external" href="https://www.w3.org/TR/trig/">TriG</a>, <a class="reference external" href="https://www.w3.org/TR/owl2-syntax/">OWL 2 Functional-Style Syntax</a> and <a class="reference internal" href="reasoning.html#rdfox-datalog"><span class="std std-ref">Datalog</span></a>
formats. Option <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> can be used to specify the name of a graph that should be
used as the default graph. The graph name can be either an IRI (e.g.
<code class="docutils literal notranslate"><span class="pre">ex:graph</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;http://example.com/graph&gt;</span></code>) or a string containing the Turtle
encoding of an RDF term (e.g. <code class="docutils literal notranslate"><span class="pre">&quot;ex:graph&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;\&quot;1\&quot;^^xsd:decimal&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;\&quot;graph\&quot;&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;UNDEF&quot;</span></code>). The format of the file to import may be
specified by setting the <code class="docutils literal notranslate"><span class="pre">import.format</span></code> <a class="reference internal" href="#shell-variables"><span class="std std-ref">variable</span></a> to
the desired format in the shell. Typing <code class="docutils literal notranslate"><span class="pre">help</span></code> into the shell prints the list
of available formats (see <a class="reference internal" href="import-and-export.html#data-store-content-formats"><span class="std std-numref">Section 8.1</span></a>).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">&lt;file_name&gt;</span></code> is relative (e.g., it does not start with <code class="docutils literal notranslate"><span class="pre">/</span></code> on
Unix-based platforms), it is first interpreted as relative to the content of
the <code class="docutils literal notranslate"><span class="pre">dir.facts</span></code> <a class="reference internal" href="#shell-variables"><span class="std std-ref">shell variable</span></a>, and if no file is
found then it is interpreted as relative to the content of the <code class="docutils literal notranslate"><span class="pre">dir.dlog</span></code>
<a class="reference internal" href="#shell-variables"><span class="std std-ref">shell variable</span></a>. <code class="docutils literal notranslate"><span class="pre">&lt;file_name&gt;</span></code> may be quoted — that
is, surrounded with single-quotes or double-quotes, if required, for example to
support filenames containing spaces. IRIs appearing in this list must be
enclosed in angle brackets.</p>
<div class="example docutils container">
<p><strong>Example:</strong> The following command adds a rule to the current data store;
informally, the rule says that if <code class="docutils literal notranslate"><span class="pre">?X</span></code> is a person and <code class="docutils literal notranslate"><span class="pre">?X</span></code> likes
something, then <code class="docutils literal notranslate"><span class="pre">?X</span></code> is a person with hobby.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import ! a1:PHobby[?X]:- a1:Person[?X], a1:like[?X,?Y] .
</pre></div>
</div>
</div>
<div class="example docutils container">
<p><strong>Example:</strong> The following command adds a fact to the default graph of the
current data store.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import ! a1:Person[a1:john] .
</pre></div>
</div>
</div>
<div class="example docutils container">
<p><strong>Example:</strong> The following command adds a fact to the graph <code class="docutils literal notranslate"><span class="pre">a1:G</span></code> in the
current data store. Note that the named graph is not specified in the input
text; rather, the command itself specifies that <code class="docutils literal notranslate"><span class="pre">a1:G</span></code> should be used as
the default graph.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import &gt; a1:G ! a1:john a a1:Person .
</pre></div>
</div>
</div>
<div class="example docutils container">
<p><strong>Example:</strong> The following command adds the data from two local files
(<code class="docutils literal notranslate"><span class="pre">./data.ttl</span></code> and <code class="docutils literal notranslate"><span class="pre">./rules.dlog</span></code>) and one URL in parallel.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import ./data.ttl &lt;https://www.w3.org/1999/02/22-rdf-syntax-ns&gt; ./rules.dlog
</pre></div>
</div>
</div>
</div>
<div class="section" id="importaxioms">
<span id="importaxioms-command"></span><h3><span class="section-number">15.2.27. </span>importaxioms<a class="headerlink" href="#importaxioms" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>importaxioms [&lt;source_graph_name&gt;] [&gt; &lt;target_graph_name&gt;] [+|-] [assertions]
</pre></div>
</div>
<p><strong>Description:</strong> This command parses the triples in the source named graph and
adds them as OWL axioms in the target named graph. The graph name can be either
an IRI (e.g. <code class="docutils literal notranslate"><span class="pre">ex:graph</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;http://example.com/graph&gt;</span></code>) or a string
containing the Turtle encoding of an RDF term (e.g. <code class="docutils literal notranslate"><span class="pre">&quot;ex:graph&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;\&quot;1\&quot;^^xsd:decimal&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;\&quot;graph\&quot;&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;UNDEF&quot;</span></code>). The value <code class="docutils literal notranslate"><span class="pre">&quot;UNDEF&quot;</span></code>,
can be used to refer to the default graph, which is also used when either the
source or the target is not specified. The axioms can be added (if nothing or
<code class="docutils literal notranslate"><span class="pre">+</span></code> is specified) or removed (if <code class="docutils literal notranslate"><span class="pre">-</span></code> is specified). Unless <code class="docutils literal notranslate"><span class="pre">assertions</span></code>
is specified, the ABox assertions are not parsed.</p>
</div>
<div class="section" id="info">
<h3><span class="section-number">15.2.28. </span>info<a class="headerlink" href="#info" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>info [extended | axioms [&lt;named_graph&gt;] | rulestats [print-rules] [by-body-size] | ruleplans]
</pre></div>
</div>
<p><strong>Description:</strong> This command prints various information about a data store.
The exact information printed is determined by the command options.</p>
<ul class="simple">
<li><p>If no argument is specified, only a short breakdown of memory use and
the state of the data store is shown. This option cannot be performed
as part of an explicit transaction.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">extended</span></code> is specified, the summary from the previous item is
extended with detailed information about the memory use and the state of
various subcomponents of RDFox. This diagnostic information depends on the
internal structure of RDFox and is thus not meant to be used by users, it is
moreover likely to change in future, and is mainly intended to aid Oxford
Semantic Technologies in providing client support. This option cannot be
performed as part of an explicit transaction.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">axioms</span></code> is specified, then the OWL axioms currently loaded in a named
graph (if the <code class="docutils literal notranslate"><span class="pre">&lt;named_graph&gt;</span></code> parameter is specified) or the default
graph (if the <code class="docutils literal notranslate"><span class="pre">&lt;named_graph&gt;</span></code> parameter is omitted) are printed.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">rulestats</span></code> is specified, then statistics (i.e., the numbers of
recursive, nonrecursive, and all rules) are printed for each component of
the currently loaded Datalog program. The optional argument <code class="docutils literal notranslate"><span class="pre">print-rules</span></code>
determines whether the rules will be printed, and the argument
<code class="docutils literal notranslate"><span class="pre">by-body-size</span></code> determines whether the rules will be grouped by rule body
size (i.e., the number of atoms in the rule body) inside each component.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">ruleplans</span></code> is specified, then the query plans of the compiled rules
are printed. This is mainly used for troubleshooting.</p></li>
</ul>
</div>
<div class="section" id="insert">
<h3><span class="section-number">15.2.29. </span>insert<a class="headerlink" href="#insert" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>insert &lt;remaining_query_text&gt;
</pre></div>
</div>
<p><strong>Description:</strong> This command adds the explicit facts to the data store based
on bindings for a query pattern specified in a where clause.</p>
<div class="example docutils container">
<p><strong>Example:</strong> The following command evaluates <code class="docutils literal notranslate"><span class="pre">?X</span> <span class="pre">a1:headOf</span> <span class="pre">?Y</span></code> in the data
store, and for each value of <code class="docutils literal notranslate"><span class="pre">?X</span></code> and <code class="docutils literal notranslate"><span class="pre">?Y</span></code> it creates a triple <code class="docutils literal notranslate"><span class="pre">?Y</span>
<span class="pre">a1:hasHead</span> <span class="pre">?X</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>insert { ?Y a1:hasHead ?X } where { ?X a1:headOf ?Y }
</pre></div>
</div>
</div>
</div>
<div class="section" id="mat">
<span id="mat-command"></span><h3><span class="section-number">15.2.30. </span>mat<a class="headerlink" href="#mat" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mat
</pre></div>
</div>
<p><strong>Description:</strong> This command explicitly updates the set of materialized facts
in the data store. In normal operation, RDFox will automatically invoke this
operation as needed so that, when queries are issued, query results correctly
reflect all additions/deletions of facts/rules to the data store. Hence, this
command is useful mostly when one must know exactly when materialization is to
be updated. For example, this can be the case when benchmarking reasoning
algorithms, or when debugging the reasoning process. Since materialization is
updated automatically when a <a class="reference internal" href="transactions.html#transactions"><span class="std std-ref">transaction</span></a> is committed,
this command should be used only inside transactions.</p>
<div class="example docutils container">
<p><strong>Example:</strong> The following sequence of commands starts a transaction,
imports facts from the <code class="docutils literal notranslate"><span class="pre">testData.ttl</span></code> file, imports rules from the
<code class="docutils literal notranslate"><span class="pre">testProgram.dlog</span></code> file, and then updates the Materialization. Next, it
deletes facts from the <code class="docutils literal notranslate"><span class="pre">factsToDelete.ttl</span></code> file, again updates the
materialization, and commits the transaction. When <code class="docutils literal notranslate"><span class="pre">mat</span></code> is first invoked,
the system performs reasoning ‘from scratch’, whereas in the second case it
updates the materialization incrementally.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dstore create default
begin
import &quot;testData.ttl&quot;
import &quot;testProgram.dlog&quot;
mat
import - &quot;factsToDelete.ttl&quot;
mat
commit
</pre></div>
</div>
</div>
</div>
<div class="section" id="maxmemory">
<span id="maxmemory-command"></span><h3><span class="section-number">15.2.31. </span>maxmemory<a class="headerlink" href="#maxmemory" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>maxmemory [&lt;bytes&gt;]
</pre></div>
</div>
<p><strong>Description:</strong> This command sets the maximum memory that the server is
allowed to use, or prints the current memory usage if no number is specified.
Both the argument and the command’s output are in bytes (unlike the
<code class="docutils literal notranslate"><span class="pre">max-memory</span></code> server parameter, whose value is in megabytes).</p>
</div>
<div class="section" id="password">
<span id="password-command"></span><h3><span class="section-number">15.2.32. </span>password<a class="headerlink" href="#password" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>password
</pre></div>
</div>
<p><strong>Description:</strong> This command initiates an interactive process to change the
password of the logged-in role.</p>
</div>
<div class="section" id="prefix">
<h3><span class="section-number">15.2.33. </span>prefix<a class="headerlink" href="#prefix" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>prefix &lt;prefix_name&gt; [&lt;prefix_iri&gt;]
</pre></div>
</div>
<p><strong>Description:</strong> This command associates a prefix name with the given prefix
IRI in the currently active data store, or unsets a prefix name if the prefix
IRI is not supplied.</p>
<div class="example docutils container">
<p><strong>Example:</strong> The following command sets prefix <code class="docutils literal notranslate"><span class="pre">a1:</span></code> in the currently
active data store and then uses it in a <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> query.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>prefix a1: &lt;http://www.a1.org/a1#&gt;
SELECT ?X ?Y WHERE { ?X a1:hasName ?Y }
</pre></div>
</div>
</div>
<div class="example docutils container">
<p><strong>Example:</strong> The following command unsets prefix <code class="docutils literal notranslate"><span class="pre">a1:</span></code> in the currently
active data store.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>prefix a1:
</pre></div>
</div>
</div>
</div>
<div class="section" id="prefixes">
<h3><span class="section-number">15.2.34. </span>prefixes<a class="headerlink" href="#prefixes" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>prefixes {list | clear | add-defaults | set [&lt;prefix_name&gt; &lt;prefix_iri&gt;] ...}
</pre></div>
</div>
<p><strong>Description:</strong> This command manages the prefixes of the currently active data
store.</p>
<ul class="simple">
<li><p>Option <code class="docutils literal notranslate"><span class="pre">list</span></code> prints the prefixes of the currently active data store.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">clear</span></code> clears the prefixes of the currently active data store.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">add-defaults</span></code> ensures that the default prefixes are present in the
data store, overwriting any conflicting definitions.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">set</span></code> sets the prefixes of the currently active data store to the
explicitly specified list of pairs.</p></li>
</ul>
</div>
<div class="section" id="quit">
<h3><span class="section-number">15.2.35. </span>quit<a class="headerlink" href="#quit" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>quit
</pre></div>
</div>
<p><strong>Description:</strong> This command terminates the shell.</p>
<p>When run in a local shell (created by starting the executable in <code class="docutils literal notranslate"><span class="pre">shell</span></code> or
<code class="docutils literal notranslate"><span class="pre">sandbox</span></code> mode), this command will also cause the process to exit.</p>
<p>Note that it is not possible to cause the server process to exit from a remote
shell instance.</p>
</div>
<div class="section" id="recompile">
<span id="recompile-command"></span><h3><span class="section-number">15.2.36. </span>recompile<a class="headerlink" href="#recompile" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>recompile
</pre></div>
</div>
<p><strong>Description:</strong> This command recompiles the rules and commit procedure in the
current data store according to the current statistics. This can be used after
the <code class="docutils literal notranslate"><span class="pre">stats</span> <span class="pre">update</span></code> command so that the rule compilation takes advantage of
up-to-date statistics.</p>
</div>
<div class="section" id="remat">
<span id="remat-command"></span><h3><span class="section-number">15.2.37. </span>remat<a class="headerlink" href="#remat" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>remat
</pre></div>
</div>
<p><strong>Description:</strong> This command performs a full, from-scratch materialization
within the data store. This can be useful to ensure that all derived facts in
the data store are up-to-date with respect to the data store’s <a class="reference internal" href="data-sources.html#data-sources"><span class="std std-ref">data
sources</span></a>.</p>
</div>
<div class="section" id="revoke">
<span id="revoke-command"></span><h3><span class="section-number">15.2.38. </span>revoke<a class="headerlink" href="#revoke" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>revoke {privileges &lt;access_types&gt; &lt;resource_specifier&gt; from &lt;role&gt; | role &lt;super_role&gt; from &lt;role&gt;}
</pre></div>
</div>
<p><strong>Description:</strong> This command revokes privileges and role memberships from
roles in a server’s role database. The counterpart to this command is
<a class="reference internal" href="#grant-command"><span class="std std-ref">grant</span></a>.</p>
<ul class="simple">
<li><p>Option <code class="docutils literal notranslate"><span class="pre">privileges</span></code> revokes from the role <code class="docutils literal notranslate"><span class="pre">&lt;role&gt;</span></code> privileges to access
the resource(s) matched by <code class="docutils literal notranslate"><span class="pre">&lt;resource_specifier&gt;</span></code> in the ways specified by
parameter <code class="docutils literal notranslate"><span class="pre">&lt;access_types&gt;</span></code>. The parameter <code class="docutils literal notranslate"><span class="pre">&lt;resource_specifier&gt;</span></code> must be
a string meeting the requirements of a resource specifier described in
<a class="reference internal" href="access-control.html#resource-specifiers"><span class="std std-numref">Section 12.1.2</span></a> while the parameter <code class="docutils literal notranslate"><span class="pre">&lt;access_types&gt;</span></code> must be
a comma-separated list of the elements <code class="docutils literal notranslate"><span class="pre">read</span></code>, <code class="docutils literal notranslate"><span class="pre">write</span></code>, <code class="docutils literal notranslate"><span class="pre">grant</span></code> and
<code class="docutils literal notranslate"><span class="pre">full</span></code>.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">role</span></code> revokes membership of the role with name <code class="docutils literal notranslate"><span class="pre">&lt;super_role&gt;</span></code>
from the role <code class="docutils literal notranslate"><span class="pre">&lt;role&gt;</span></code>. See <a class="reference internal" href="access-control.html#assigning-privileges-via-membership"><span class="std std-numref">Section 12.5.5</span></a>
for more information about role membership.</p></li>
</ul>
<p><a class="reference internal" href="access-control.html#access-control"><span class="std std-numref">Section 12</span></a> describes RDFox’s access control model in more detail.</p>
<div class="example docutils container">
<p><strong>Example:</strong> The following command revokes write access over the <code class="docutils literal notranslate"><span class="pre">family</span></code>
data store from the role <code class="docutils literal notranslate"><span class="pre">graphuser</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>revoke privileges write &gt;datastores|family from graphuser
</pre></div>
</div>
</div>
</div>
<div class="section" id="role">
<span id="role-command"></span><h3><span class="section-number">15.2.39. </span>role<a class="headerlink" href="#role" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>role {list | show &lt;name&gt; | member &lt;name&gt; &lt;super_name&gt; | create &lt;name&gt; [hash &lt;password_hash&gt; | no-password] | delete &lt;name&gt; [force]}
</pre></div>
</div>
<p><strong>Description:</strong> This command manages the set of <a class="reference internal" href="access-control.html#roles"><span class="std std-ref">Roles</span></a> defined within
the system.</p>
<ul class="simple">
<li><p>If no argument is specified, the name of the currently active role is shown.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">list</span></code> lists the roles defined within the system.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">show</span></code> shows the privileges, memberships and members of the role
with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code>.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">member</span></code> checks whether the role with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> is a member
of the role with name <code class="docutils literal notranslate"><span class="pre">&lt;super_name&gt;</span></code>, either directly or indirectly.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">create</span></code> creates a new role with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code>. If the <code class="docutils literal notranslate"><span class="pre">hash</span></code>
option is used then the role is created using the given <code class="docutils literal notranslate"><span class="pre">&lt;password_hash&gt;</span></code>.
If the <code class="docutils literal notranslate"><span class="pre">no-password</span></code> option is used then the role is created without a
password. If neither of those options is used then the user is prompted to
enter a new password for the role. A password hash of an existing role can
obtained by listing role information using the <code class="docutils literal notranslate"><span class="pre">role</span> <span class="pre">show</span></code> shell command
or programmatically as described in <a class="reference internal" href="apis.html#apis-list-role-information"><span class="std std-numref">Section 16.19.4</span></a>.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">delete</span></code> deletes the role with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code>. This option will
prompt for confirmation unless <code class="docutils literal notranslate"><span class="pre">force</span></code> is specified.</p></li>
</ul>
<p><a class="reference internal" href="access-control.html#access-control"><span class="std std-numref">Section 12</span></a> describes RDFox’s access control model in more detail.</p>
</div>
<div class="section" id="rollback">
<h3><span class="section-number">15.2.40. </span>rollback<a class="headerlink" href="#rollback" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>rollback
</pre></div>
</div>
<p><strong>Description:</strong> This command rolls back the currently running
<a class="reference internal" href="transactions.html#transactions"><span class="std std-ref">transaction</span></a>.</p>
</div>
<div class="section" id="root">
<h3><span class="section-number">15.2.41. </span>root<a class="headerlink" href="#root" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>root &lt;directory&gt;
</pre></div>
</div>
<p><strong>Description:</strong> This command sets all of the standard shell variables with
prefix <code class="docutils literal notranslate"><span class="pre">dir.</span></code> (see <a class="reference internal" href="#shell-variables"><span class="std std-numref">Section 15.3</span></a>), with the exception of
<code class="docutils literal notranslate"><span class="pre">dir.executing-script</span></code>, to the specified string.</p>
</div>
<div class="section" id="rwtest">
<span id="id3"></span><h3><span class="section-number">15.2.42. </span>rwtest<a class="headerlink" href="#rwtest" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>rwtest &lt;min_sleep&gt; &lt;max_sleep&gt; [read-only]
</pre></div>
</div>
<p><strong>Description:</strong> This command runs a test of reading from and, optionally,
writing to the active data store.</p>
<p>The test works by adding and deleting a deterministic progression of RDF graphs
to and from the data store. When the <code class="docutils literal notranslate"><span class="pre">read-only</span></code> flag is omitted each
iteration of the test loop begins a read/write transaction, deletes the RDF
graph added in the previous iteration, runs a query to ensure that the deletion
has fully emptied the store, adds the next RDF graph in the sequence, and
attempts to commit the transaction. If committing the transaction fails due to
unapplied transactions from other replicas the transaction is rolled back and
the next loop iteration begins immediately. When the <code class="docutils literal notranslate"><span class="pre">read-only</span></code> flag is
included the begin, deletion, and query steps are performed in each iteration
but the addition step is skipped and no attempt to commit the transaction is
made (the transaction is always rolled back). After the end of each successful
iteration the test sleeps for a random duration between <code class="docutils literal notranslate"><span class="pre">&lt;min_sleep&gt;</span></code> and
<code class="docutils literal notranslate"><span class="pre">&lt;max_sleep&gt;</span></code> milliseconds. These parameters can be varied to simulate
different transaction rates.</p>
<p>The value of the <code class="docutils literal notranslate"><span class="pre">log-frequency</span></code> shell variable is a positive integer that
determines the period (in seconds) at which a report about the test progress is
printed. The report may be printed to the terminal, redirected to a file, or
disabled by setting the shell’s <code class="docutils literal notranslate"><span class="pre">output</span></code> variable to <code class="docutils literal notranslate"><span class="pre">out</span></code>, the name of the
desired file, or <code class="docutils literal notranslate"><span class="pre">null</span></code>, respectively.</p>
<p>The test stops when an error is encountered or it is interrupted (for example
with Ctrl-C). A final report is produced at this point.</p>
</div>
<div class="section" id="select">
<h3><span class="section-number">15.2.43. </span>select<a class="headerlink" href="#select" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>select &lt;remaining_query_text&gt;
</pre></div>
</div>
<p><strong>Description:</strong> This command queries the current data store with the specified
<a class="reference external" href="http://www.w3.org/TR/sparql11-query/">SPARQL</a> query.</p>
<div class="example docutils container">
<p><strong>Example:</strong> The following commands load data and run a query. The output of
the command will be written into file <code class="docutils literal notranslate"><span class="pre">$(dir.output)/results.txt</span></code>; note
that the value of the <a class="reference internal" href="#shell-variables"><span class="std std-ref">shell variable</span></a> <code class="docutils literal notranslate"><span class="pre">dir.output</span></code>
must be a valid directory for query evaluation to succeed.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dstore create default
import &quot;LUBM.ttl&quot; &quot;LUBM.dlog&quot;
set output &quot;results.txt&quot;
SELECT ?X WHERE { ?X rdf:type &lt;http://lehigh.edu/onto/univ-bench.owl#Org&gt; }
</pre></div>
</div>
</div>
</div>
<div class="section" id="serverinfo">
<h3><span class="section-number">15.2.44. </span>serverinfo<a class="headerlink" href="#serverinfo" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>serverinfo [extended]
</pre></div>
</div>
<p><strong>Description:</strong> This command prints various information about the server.
With ‘extended’, the output also includes information about all data stores
currently loaded into the server.</p>
</div>
<div class="section" id="set">
<span id="set-command"></span><h3><span class="section-number">15.2.45. </span>set<a class="headerlink" href="#set" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>set [&lt;name&gt; [&lt;value&gt;]]
</pre></div>
</div>
<p><strong>Description:</strong> This command assigns the specified value to the specified
variable. If no argument is given at all, then all variable-value pairs are
printed; if the variable is given but the value is not, then the current value
for the given variable is printed. Issue the <code class="docutils literal notranslate"><span class="pre">set</span></code> command with no arguments
or see <a class="reference internal" href="#shell-variables"><span class="std std-numref">Section 15.3</span></a> for details of the available variables.</p>
</div>
<div class="section" id="sleep">
<h3><span class="section-number">15.2.46. </span>sleep<a class="headerlink" href="#sleep" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sleep &lt;milliseconds&gt;
</pre></div>
</div>
<p><strong>Description:</strong> This command makes the system sleep for the specified number
of milliseconds.</p>
</div>
<div class="section" id="srvconn">
<span id="srvconn-command"></span><h3><span class="section-number">15.2.47. </span>srvconn<a class="headerlink" href="#srvconn" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>srvconn {list | active [&lt;name&gt;] | open [&lt;name&gt;] [as &lt;role&gt;] | close [&lt;name&gt;]}
</pre></div>
</div>
<p><strong>Description:</strong> Manages server connections belonging to the current shell. See
also <a class="reference internal" href="#connection-management-shell"><span class="std std-numref">Section 15.1</span></a>.</p>
<ul class="simple">
<li><p>Option <code class="docutils literal notranslate"><span class="pre">list</span></code> prints the currently open server connections.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">active</span></code> sets <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> as the name of the active server
connection if a parameter is provided or prints the name of the active
server connection if not.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">open</span></code> opens a new connection to the local server. If the optional
<code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> parameter is provided, it is used as the name of the connection,
otherwise a name is assigned automatically. If the optional <code class="docutils literal notranslate"><span class="pre">&lt;role&gt;</span></code>
parameter is provided, the command will attempt to create the connection as
<code class="docutils literal notranslate"><span class="pre">&lt;role&gt;</span></code>. If no role is provided, the command will duplicate the active
server connection.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">close</span></code> closes the active server connection if no argument is given
or the server connection with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> if a single argument is given.</p></li>
</ul>
</div>
<div class="section" id="stats">
<h3><span class="section-number">15.2.48. </span>stats<a class="headerlink" href="#stats" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>stats {list | show &lt;name&gt; | create &lt;name&gt; [&lt;parameter_key&gt; &lt;parameter_value&gt;] ... | delete &lt;name&gt; [force] | update [&lt;name&gt;] | extract &lt;name&gt; {! &lt;statement_text&gt; | &lt;statement_file_name&gt;}  | merge &lt;name&gt; &lt;file&gt;}}
</pre></div>
</div>
<p><strong>Description:</strong> This command maintains the statistics that RDFox uses
internally for tasks such as query planning.</p>
<ul class="simple">
<li><p>Option <code class="docutils literal notranslate"><span class="pre">list</span></code> prints the currently available statistics.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">show</span></code> shows information about the statistics with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code>.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">create</span></code> creates the statistics with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code>. Information
that governs how the statistics are created is specified by the key-value
pairs. This operation cannot be performed as part of an explicit transaction.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">delete</span></code> deletes the statistics with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code>. This operation
cannot be performed as part of an explicit transaction.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">update</span></code> updates all statistics if <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> is not specified, or
it updates the statistics with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code>. Note that, if
<code class="docutils literal notranslate"><span class="pre">auto-update-statistics</span></code> option is set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, then statistics will
be updated automatically whenever the number of facts in the system changes
by more than 10%.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">extract</span></code> extracts the subset of <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> statistics relevant for the
resources used in the provided statement. The extracted statistics are from the
current data store in the current RDFox instance. The result is produced as
specified by the <code class="docutils literal notranslate"><span class="pre">output</span></code> shell variable.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">merge</span></code> merges the statistics information from the file <code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code> into the
statistics <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> of the current data store. This operation affects only the
data store in the current RDFox instance. The statistics will continue to be updated
during subsequent write transactions in accordence with the data store property
<code class="docutils literal notranslate"><span class="pre">auto-update-statistics-mode</span></code> (see <a class="reference internal" href="data-stores.html#auto-update-statistics-mode"><span class="std std-numref">Section 5.4.2.2</span></a>).</p></li>
</ul>
</div>
<div class="section" id="threads">
<h3><span class="section-number">15.2.49. </span>threads<a class="headerlink" href="#threads" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>threads [&lt;number_of_threads&gt;]
</pre></div>
</div>
<p><strong>Description:</strong> This command sets the number of threads that the server will
use for tasks such as reasoning or importation of data. The initial value of
this parameter can be specified using the <code class="docutils literal notranslate"><span class="pre">num-threads</span></code> <a class="reference internal" href="servers.html#server-parameters"><span class="std std-ref">server option</span></a> at the command line. The default is the number of logical
processors on the machine.</p>
</div>
<div class="section" id="transcribe">
<span id="transcribe-command"></span><h3><span class="section-number">15.2.50. </span>transcribe<a class="headerlink" href="#transcribe" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>transcribe [force] &lt;directory_name&gt; [&lt;data_store_name&gt;]
</pre></div>
</div>
<p><strong>Description:</strong> This command saves the RDFox server state to a collection of
files under a directory named <code class="docutils literal notranslate"><span class="pre">&lt;directory_name&gt;</span></code>. A file named
<code class="docutils literal notranslate"><span class="pre">main_restore.txt</span></code> will be created under the directory <code class="docutils literal notranslate"><span class="pre">&lt;directory_name&gt;</span></code>
that can be executed in another instance of RDFox to restore all transcribed
content.</p>
<p>By default <code class="docutils literal notranslate"><span class="pre">transcribe</span></code> will save the content of all data stores that have
persistence enabled. It is possible to transcribe only certain data stores,
regardless of whether persistence is enabled or not, by specifying one or more
data store names as <code class="docutils literal notranslate"><span class="pre">&lt;data_store_name&gt;</span></code> parameters.</p>
<p><code class="docutils literal notranslate"><span class="pre">transcribe</span></code> is intended to be used to transfer the entire server state to
another RDFox instance. To prevent changes occurring while the transcribe
command is running, the normal behavior is to raise an error if the endpoint is
running. This check can be disabled by using the <code class="docutils literal notranslate"><span class="pre">force</span></code> option.</p>
<div class="example docutils container">
<p><strong>Example</strong></p>
<p>To transcribe the content of an existing RDFox instance to a directory named
<code class="docutils literal notranslate"><span class="pre">save_directory</span></code>, log into the existing RDFox shell and execute the
following</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>transcribe save_directory
quit
</pre></div>
</div>
<p>Then invoke another instance of RDFox, typically a newer version, and
restore the settings into a new server directory (in this example
<code class="docutils literal notranslate"><span class="pre">new_server_dir</span></code>) as follows.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./RDFox<span class="w"> </span>-server-directory<span class="w"> </span>new_server_dir<span class="w"> </span>-temp-role<span class="w"> </span>shell<span class="w"> </span>save_directory<span class="w"> </span>main_restore.txt
</pre></div>
</div>
</div>
</div>
<div class="section" id="tstamp">
<h3><span class="section-number">15.2.51. </span>tstamp<a class="headerlink" href="#tstamp" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>tstamp [&lt;variable_name&gt;]
</pre></div>
</div>
<p><strong>Description:</strong> This command saves the current time stamp into the variable
with the specified name. If no variable is specified, the system prints the
current time stamp.</p>
</div>
<div class="section" id="tupletable">
<span id="tupletable-command"></span><h3><span class="section-number">15.2.52. </span>tupletable<a class="headerlink" href="#tupletable" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>tupletable {list | show &lt;name&gt; | create &lt;name&gt; [&lt;parameter_key&gt; &lt;parameter_value&gt;] ... | delete &lt;name&gt; [force]}
</pre></div>
</div>
<p><strong>Description:</strong> This command manages the <a class="reference internal" href="tuple-tables.html#tuple-tables"><span class="std std-ref">tuple tables</span></a> of
the current store.</p>
<ul class="simple">
<li><p>Option <code class="docutils literal notranslate"><span class="pre">list</span></code> prints the currently available tuple tables.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">show</span></code> shows information about the tuple table with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code>.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">create</span></code> creates a new tuple table with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code>.
Information about the tuple table is specified by any following key-value
pairs. This operation cannot be performed as part of an explicit transaction.</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">delete</span></code> deletes the tuple table with name <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code>. This option
will prompt for confirmation unless <code class="docutils literal notranslate"><span class="pre">force</span></code> is specified. This operation
cannot be performed as part of an explicit transaction.</p></li>
</ul>
<div class="example docutils container">
<p><strong>Example:</strong> The following command creates a tupletable from a <code class="docutils literal notranslate"><span class="pre">delimitedFile</span></code> datasource.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>tupletable create myTupletable dataSourceName myDataSource columns 3 &quot;1&quot; &quot;https://rdfox.com/examples/entity#{id}&quot; &quot;1.datatype&quot; &quot;iri&quot; &quot;2&quot; &quot;{name}&quot; &quot;3&quot; &quot;{dob}&quot; &quot;3.datatype&quot; &quot;xsd:dateTime&quot; &quot;3.if-empty&quot; &quot;absent&quot;
</pre></div>
</div>
<p><strong>Example:</strong> The following command creates a tupletable from a table in a SQL datasource (either <code class="docutils literal notranslate"><span class="pre">PostgreSQL</span></code> or <code class="docutils literal notranslate"><span class="pre">ODBC</span></code>).</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>tupletable create myTupletable dataSourceName mySQLdsource table.name salaries columns 2 &quot;1&quot; &quot;https://rdfox.com/examples/entity#{employee_id}&quot; &quot;1.datatype&quot; &quot;iri&quot; &quot;2&quot; &quot;{salary}&quot; &quot;2.datatype&quot; &quot;xsd:decimal&quot; &quot;2.if-empty&quot; &quot;absent&quot;
</pre></div>
</div>
<p><strong>Example:</strong> The following command creates a tupletable from a query in a SQL datasource.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>tupletable create myTupletable dataSourceName mySQLdsource query &quot;SELECT ssn.social_security_number AS col1, salaries.salary AS col2 FROM ssn JOIN salaries ON ssn.employee_id = salaries.employee_id&quot; columns 2 &quot;1&quot; &quot;https://rdfox.com/examples/ssn#{col1}&quot; &quot;1.datatype&quot; &quot;iri&quot; &quot;2&quot; &quot;{col2}&quot; &quot;2.datatype&quot; &quot;xsd:decimal&quot; &quot;2.if-empty&quot; &quot;absent&quot;
</pre></div>
</div>
</div>
</div>
<div class="section" id="unset">
<span id="unset-command"></span><h3><span class="section-number">15.2.53. </span>unset<a class="headerlink" href="#unset" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>unset &lt;name&gt;
</pre></div>
</div>
<p><strong>Description:</strong> This command unsets the <a class="reference internal" href="#shell-variables"><span class="std std-ref">variable</span></a> with
name <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p>
</div>
<div class="section" id="update">
<h3><span class="section-number">15.2.54. </span>update<a class="headerlink" href="#update" title="Permalink to this headline">¶</a></h3>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>update {! &lt;update_text&gt; | &lt;file_name&gt; ...}
</pre></div>
</div>
<p><strong>Description:</strong> This command evaluates one or more SPARQL updates. The update
can be either given explicitly as text after the <code class="docutils literal notranslate"><span class="pre">!</span></code> symbol, or one can
specify zero or more file names that contain the updates to be evaluated. If
<code class="docutils literal notranslate"><span class="pre">&lt;file_name&gt;</span></code> is relative (e.g., it does not start with <code class="docutils literal notranslate"><span class="pre">/</span></code> on Unix-based
platforms), it is interpreted as relative to the content of the <code class="docutils literal notranslate"><span class="pre">dir.queries</span></code>
<a class="reference internal" href="#shell-variables"><span class="std std-ref">shell variable</span></a>.</p>
<div class="example docutils container">
<p><strong>Example:</strong> The following command evaluates a SPARQL update.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>update ! delete { ?p :givenName &#39;Bill&#39; } insert { ?p :givenName &#39;William&#39; } where { ?p :givenName &#39;Bill&#39; }
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="shell-variables">
<span id="id4"></span><h2><span class="section-number">15.3. </span>Shell Variables<a class="headerlink" href="#shell-variables" title="Permalink to this headline">¶</a></h2>
<p>Shell variables can hold string, signed integer, or Boolean values. As well as
a predefined set of variables that control the behavior of the shell or
individual commands (see below), users can define their own variables. A shell
variable called <code class="docutils literal notranslate"><span class="pre">var</span></code> can be used in commands in the form <code class="docutils literal notranslate"><span class="pre">$(var)</span></code>. Shell
variables can be set using the <code class="docutils literal notranslate"><span class="pre">set</span></code> command (<a class="reference internal" href="#set-command"><span class="std std-numref">Section 15.2.45</span></a>) and
unset using <code class="docutils literal notranslate"><span class="pre">unset</span></code> command (<a class="reference internal" href="#unset-command"><span class="std std-numref">Section 15.2.53</span></a>).</p>
<p>Variables that are initially set after starting RDFox, their default values,
and a summary of each are given in the table below. Similar information for all
currently set variables may be obtained in the RDFox shell by running the
<code class="docutils literal notranslate"><span class="pre">set</span></code> command with no arguments.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 14%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable Name</p></th>
<th class="head"><p>Default Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">active-data-store-connection</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">default</span></code></p></td>
<td><p>Contains the name of the active data store connection.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">active-server-connection</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">sc1</span></code></p></td>
<td><p>Contains the name of the active server connection.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">dir.executing-script</span></code></p></td>
<td><p>(none)</p></td>
<td><p>When executing a script, RDFox sets this variable to the path of the directory
that contains the script. This can be used to set the shell root directory so
that the script can then use relative file paths.</p>
<p>This variable cannot be set directly.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">dir.dlog</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">./</span></code></p></td>
<td><p>Determines the directory for resolving relative file names of datalog programs.
For details on path resolution, see note below table.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">dir.facts</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">./</span></code></p></td>
<td><p>Determines the directory for resolving relative file names of RDF files.
For details on path resolution, see note below table.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">dir.output</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">./</span></code></p></td>
<td><p>Determines the directory for resolving relative file names of output files (as
specified by the <code class="docutils literal notranslate"><span class="pre">output</span></code> variable).
For details on path resolution, see note below table.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">dir.queries</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">./</span></code></p></td>
<td><p>Determines the directory for resolving relative file names of query files.
For details on path resolution, see note below table.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">dir.root</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">./</span></code></p></td>
<td><p>Determines the root directory of the current data set.
For details on path resolution, see note below table.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">dir.scripts</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">./</span></code></p></td>
<td><p>Determines the directory for resolving relative file names of script files.
For details on path resolution, see note below table.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">dir.stores</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">./</span></code></p></td>
<td><p>Determines the directory for resolving relative file names of binary store files.
For details on path resolution, see note below table.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">import.format</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code></p></td>
<td><p>Determines the format that will be parsed by the import command. Empty string
means that RDFox will try to automatically detect the format. For the list of
available values see <a class="reference internal" href="import-and-export.html#data-store-content-formats"><span class="std std-numref">Section 8.1</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">import.monitor</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">off</span></code></p></td>
<td><p>Determines whether and how import operations are monitored:
<code class="docutils literal notranslate"><span class="pre">off</span></code> (no monitoring) and
<code class="docutils literal notranslate"><span class="pre">progress</span></code> (report progress during import).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">log-frequency</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Determines the time in seconds during which various logs are produced (see
note below table).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">on-error</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">continue</span></code></p></td>
<td><p>Determines how the shell behaves when a command results in an error:
<code class="docutils literal notranslate"><span class="pre">continue</span></code> continues to the next command;
<code class="docutils literal notranslate"><span class="pre">continue-if-exists</span></code> continues to the next command if the error is due to an
attempt to create a resource (for example a data store or role) that already
exists, otherwise stops processing commands;
<code class="docutils literal notranslate"><span class="pre">stop</span></code> stops processing commands.</p>
<p>See also
<a class="reference internal" href="#shell-error-handling"><span class="std std-numref">Section 15.5</span></a>.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">output</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">null</span></code></p></td>
<td><p>Determines how command results (including queries) are printed:
<code class="docutils literal notranslate"><span class="pre">null</span></code> (nothing is printed);
<code class="docutils literal notranslate"><span class="pre">out</span></code>, (to stdout);
or a file name.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">query.answer-format</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">application/x.sparql-results+turtle-abbrev</span></code></p></td>
<td><p>Determines the name of the format used to serialize query answers (see note
below table).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">query.explain</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>If true, the query plan is printed after compilation.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">query.fact-domain</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">all</span></code></p></td>
<td><p>Determines the fact domain of the matched tuples:
<code class="docutils literal notranslate"><span class="pre">explicit</span></code> matches the explicitly stated facts;
<code class="docutils literal notranslate"><span class="pre">derived</span></code> matches facts that are not explicitly stated, but are derived by a
rule;
<code class="docutils literal notranslate"><span class="pre">all</span></code> matches all facts.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">query.monitor</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">off</span></code></p></td>
<td><p>Determines whether and how query evaluation is monitored:
<code class="docutils literal notranslate"><span class="pre">off</span></code> (no monitoring);
<code class="docutils literal notranslate"><span class="pre">profile</span></code> (periodically print query evaluation statistics); and
<code class="docutils literal notranslate"><span class="pre">trace</span></code> (print query evaluation trace).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">query.profiler.sampling-frequency</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">10</span></code></p></td>
<td><p>Determines the sampling frequency in milliseconds of the query profiler.
Value of <code class="docutils literal notranslate"><span class="pre">0</span></code> disables sampling.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">query.print-options</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>If true, then query compilation options are printed before queries are evaluated.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">query.print-summary</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></td>
<td><p>If true, then a summary of query evaluation (number of returned tuples and
query evaluation time) is printed after a query is evaluated.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">reason.monitor</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">off</span></code></p></td>
<td><p>Determines whether and how reasoning is monitored:
<code class="docutils literal notranslate"><span class="pre">off</span></code> (no monitoring);
<code class="docutils literal notranslate"><span class="pre">summary</span></code> (print changes to triple count);
<code class="docutils literal notranslate"><span class="pre">stats</span></code> (gather statistics);
<code class="docutils literal notranslate"><span class="pre">progress</span></code> (report progress during reasoning);
<code class="docutils literal notranslate"><span class="pre">profile</span></code> (periodically print rule evaluation statistics); and
<code class="docutils literal notranslate"><span class="pre">trace</span></code> (print reasoning trace).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">reason.profiler.entries</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">20</span></code></p></td>
<td><p>Specifies the number of entries reported by the reasoning profiler.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">reason.profiler.log-plans</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Determines whether the reasoning profiler will report statistics about rule plans.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">reason.profiler.sampling-frequency</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">10</span></code></p></td>
<td><p>Determines the sampling frequency in milliseconds of the reasoning profiler.
Value of <code class="docutils literal notranslate"><span class="pre">0</span></code> disables sampling.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">version</span></code></p></td>
<td><p>e.g., <code class="docutils literal notranslate"><span class="pre">3.0.0</span> <span class="pre">(96b08d35d74e54c8763c9ef5d6face6800e44397)</span></code></p></td>
<td><p>Contains the current version of RDFox.</p></td>
</tr>
</tbody>
</table>
<p>Note:</p>
<ul class="simple">
<li><p>Additional variables are available to control the RDFox endpoint. See
<a class="reference internal" href="#endpoint-command"><span class="std std-numref">Section 15.2.19</span></a> for details.</p></li>
<li><p>If a path variable (e.g. <code class="docutils literal notranslate"><span class="pre">dir.dlog</span></code>, <code class="docutils literal notranslate"><span class="pre">dir.facts</span></code>, etc.) contains a
relative path, then it is resolved against the sandbox directory of the
server (see <a class="reference internal" href="servers.html#server-parameters"><span class="std std-numref">Section 4.3</span></a>) when sandboxing is enabled, and
against the working directory of the RDFox process otherwise.</p></li>
<li><p>It can be useful to set the <code class="docutils literal notranslate"><span class="pre">log-frequency</span></code> variable to a nonzero value
<em>n</em> when large amounts of data are being imported. This will cause progress
to be reported every <em>n</em> seconds.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">query.answer-format</span></code> variable may be set to any of the values detailed
in <a class="reference internal" href="querying.html#query-answer-formats"><span class="std std-numref">Section 9.1.2</span></a>, and <code class="docutils literal notranslate"><span class="pre">text/turtle</span></code> in the case of queries
over exactly three variables called ?S, ?P, and ?O.</p></li>
</ul>
</div>
<div class="section" id="script-execution">
<span id="shell-script-execution"></span><h2><span class="section-number">15.4. </span>Script Execution<a class="headerlink" href="#script-execution" title="Permalink to this headline">¶</a></h2>
<p>When RDFox encounters an unrecognized command name, it checks the directories
identified by the <code class="docutils literal notranslate"><span class="pre">dir.scripts</span></code> and <code class="docutils literal notranslate"><span class="pre">dir.root</span></code> shell variables (in that
order) for a file whose name matches the given command <cite>or</cite> the given command
with the file extension <code class="docutils literal notranslate"><span class="pre">.rdfox</span></code>. If a file is found, RDFox will attempt to
interpret it as a shell script.</p>
<p>Shell scripts may use any of the commands available when the shell is running
interactively and may themselves call other scripts. RDFox will treat anything
between a <code class="docutils literal notranslate"><span class="pre">#</span></code> character and the end of the containing line as a comment.</p>
</div>
<div class="section" id="error-handling">
<span id="shell-error-handling"></span><h2><span class="section-number">15.5. </span>Error Handling<a class="headerlink" href="#error-handling" title="Permalink to this headline">¶</a></h2>
<p>It is possible to control how the shell behaves when errors are encountered.
When a command results in an error, the details of the error are printed and
execution of the command is aborted. The <code class="docutils literal notranslate"><span class="pre">on-error</span></code> variable controls what
happens next. If the <code class="docutils literal notranslate"><span class="pre">on-error</span></code> policy says that shell execution should
continue, then control moves to the next line if a script is being executed or
returns to the command prompt if not. If the <code class="docutils literal notranslate"><span class="pre">on-error</span></code> policy says that
execution should stop, then the remaining commands in the script are skipped
if a script is being executed or the process exits with a non-zero return code
if not.</p>
<p>When several levels of script execution are used, with one script invoking
another and so on, it may be desirable for errors at the lowest level to cause
the entire process to exit or for the effect of the error to be limited to just
the level in which it occurs or to one of the intermediate levels. The RDFox
shell supports this by creating a new scope for the <code class="docutils literal notranslate"><span class="pre">on-error</span></code> variable at
each level of script execution. This ensures that modifications to the
<code class="docutils literal notranslate"><span class="pre">on-error</span></code> variable last only for the duration of the given script execution.
When a subordinate level of execution is aborted due its <code class="docutils literal notranslate"><span class="pre">on-error</span></code> policy,
the <code class="docutils literal notranslate"><span class="pre">on-error</span></code> policy of the calling level is consulted to determine whether
the error should stop execution there too. This continues right up to
the top level where, as always, an error that stops execution causes the
process to exit with a non-zero return code.</p>
<p>RDFox recognizes three distinct <code class="docutils literal notranslate"><span class="pre">on-error</span></code> policies:</p>
<ul class="simple">
<li><p>setting value <code class="docutils literal notranslate"><span class="pre">continue</span></code> ensures that execution continues on any error</p></li>
<li><p>setting value <code class="docutils literal notranslate"><span class="pre">continue-if-exists</span></code> ensures that execution stops on any
error other than those which are due to attempts to create resources that
already exist</p></li>
<li><p>setting value <code class="docutils literal notranslate"><span class="pre">stop</span></code> ensures that execution stops on any error.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">continue-if-exists</span></code> policy is useful in scripts for initializing servers
in automated deployments. In these cases it is important that the process
should terminate with an error code if any of the commands in the script fails
so that the calling process knows not to proceed with the subsequent steps of
the deployment. For this reason the policy <code class="docutils literal notranslate"><span class="pre">continue</span></code> is unsuitable. At the
same time, it is often the case that the script may be executed several times
on the same server even if it has run successfully in the past. This means that
the policy <code class="docutils literal notranslate"><span class="pre">stop</span></code> is also unsuitable since RDFox treats attempts to create
resources that already exist as an error. The <code class="docutils literal notranslate"><span class="pre">continue-if-exists</span></code> policy
achieves the desired behavior of continuing if an error occurs because an
attempt was made to create a resource with a name that is already in use, but
stopping on any other error.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The class of error tolerated by the <code class="docutils literal notranslate"><span class="pre">continue-if-exists</span></code> policy indicates
only that an attempt to create an instance of a resource that must have a
unique name failed because the chosen name was already in use. It is
important to be aware that RDFox does not check that the other properties of
the existing resource are the same as those of the instance that would have
been created.</p>
<p>For example, imagine a script for initializing a server which contains the
following command.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dstore create recipes type parallel-nn
</pre></div>
</div>
<p>The script may safely be re-run in <code class="docutils literal notranslate"><span class="pre">continue-if-exists</span></code> mode since the
error raised by RDFox when the above command is re-executed will not cause
execution to stop. If at a later date, the number of resources that the data
store needs to accommodate grows beyond the capacity of a <code class="docutils literal notranslate"><span class="pre">parallel-nn</span></code>
store (see <a class="reference internal" href="data-stores.html#data-store-type"><span class="std std-numref">Section 5.4.1.11</span></a>), the above line may be replaced with
the following.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dstore create recipes type parallel-wn
</pre></div>
</div>
<p>Simply re-running the script against the server after this change would not
be sufficient to change the type of the data store irrespective of the
<code class="docutils literal notranslate"><span class="pre">on-error</span></code> setting but doing so under <code class="docutils literal notranslate"><span class="pre">continue-if-exists</span></code> will now mask
a real problem — the data store not being of the intended type — instead
of simply allowing execution to continue after an expected name clash. The
shell does not provide a way to execute commands conditionally so, in
situations such as these, additional manual intervention will be needed.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="connections.html" class="btn btn-neutral float-left" title="14. Connections" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="apis.html" class="btn btn-neutral float-right" title="16. APIs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Oxford Semantic Technologies Ltd.</p>
  </div>

  
     

    <!-- consent banner, edit cookies button and HS cookies -->
    <!-- Start of HubSpot Embed Code -->
    <script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/6485449.js"></script>
    <!-- End of HubSpot Embed Code -->

    <!-- Cookies settings button -->
    <!-- Start of HubSpot code snippet -->
    <button type="button" id="hs_show_banner_button"
    style="background-color: #fff; border: 1px solid #2980b9;
        border-radius: 3px; padding: 5px 8px; text-decoration: none; color: #2980b9;
        font-family: inherit; font-size: 80%; font-weight: normal; line-height: inherit;
        text-align: left; text-shadow: none;"
    onClick="(function(){
            var _hsp = window._hsp = window._hsp || [];
            _hsp.push(['showBanner']);
        })()"
    >
    Cookie Settings
    </button>
    <style>
        @media all and (min-width:1160px){
            .hs-cookie-notification-position-bottom {width: 80%!important;}
        }
    </style>
    <!-- End of HubSpot code snippet -->
    <!-- consent banner, edit cookies button and HS cookies -->

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>